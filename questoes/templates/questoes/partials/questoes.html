

<div class="questao">
    <ul class="questao">
        {% for questao in questoes %}
        <div class="container-azul">
            <div class="instituicao_ano">
                <strong>{{ questao.disciplina}} - {{questao.assunto}}</strong>
            </div>
            <div class="central">
            <div class="container-branco">
               
                <li class="questao_texto">
                   
                    <strong>{{ questao.instituicao_ano }}</strong> - {{ questao.texto }}
                </li>
                <li class="questao_enunciado">{{ questao.enunciado }}</li>
               
                <form method="post" action="{% url 'verificar_resposta' questao.id %}">
                    {% csrf_token %}
                    <ul class="alternativas-container">
                        {% for alternativa in questao.alternativas.all %}
                            <li id="alternativa" {% if alternativa.is_correta %}class="correta"{% endif %} {% if alternativa.is_selecionada %}class="selecionada"{% endif %}>
                                <label>
                                    <input type="radio" name="alternativa" value="{{ alternativa.id }}">
                                    {{ alternativa.texto }}
                                </label>
                            </li>
                        {% endfor %}
                    </ul>
                                      
                    
                </div>
            </div>
                <div class="responder">
                    <button type="submit" class="btn-responder">Responder</button>
                </div>
            </div>
       
        </form>
   
        {% endfor %}
    </ul>


    
</div>
<script>
$(document).ready(function () {
    $('.btn-responder').click(function (event) {
        event.preventDefault();
        var form = $(this).closest('form');
        var questaoId = $(this).data('questao-id');

        $.ajax({
            type: form.attr('method'),
            url: form.attr('action'),
            data: form.serialize(),
            success: function (data) {
                // Manipule a resposta, se necessário
                console.log(data);

                // Atualize o gráfico com os dados recebidos
                atualizarGrafico(data.questoes_certas, data.questoes_erradas);
            }
        });
    });
});




</script>