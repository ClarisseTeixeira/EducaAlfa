<script>
    $(document).ready(function () {
        $('.btn-responder').click(function (event) {
            event.preventDefault();
            var form = $(this).closest('form');
            var questaoId = $(this).data('questao-id');

            $.ajax({
                type: form.attr('method'),
                url: form.attr('action'),
                data: form.serialize(),
                success: function (data) {
                    // Manipule a resposta, se necessário
                    console.log(data);

                    // Altere a URL da página para a questão respondida
                    var novaUrl = '/questoes/' + questaoId + '/';
                    history.pushState(null, null, novaUrl);
                }
            });
        });
    });
</script>

<div class="questao">
    <ul class="questao">
        {% for questao in questoes %}
        <div class="container-azul">
            <div class="instituicao_ano">
                <strong>{{ questao.instituicao_ano }}</strong>
            </div>
            <div class="central">
            <div class="container-branco">
               
                <li class="questao_texto">
                   
                    {{ questao.texto }}
                </li>
                <li class="questao_enunciado">{{ questao.enunciado }}</li>
               
                <form method="post" action="{% url 'verificar_resposta' questao.id %}">
                    {% csrf_token %}
                    <ul  class="alternativas-container">
                        {% for alternativa in questao.alternativas.all %}
                        <li id="alternativa" >                                
                            <label>
                                <input type="radio" name="alternativa" value="{{ alternativa.id }}">
                                {{ alternativa.texto }}
                            </label>
                        </li>
                        {% endfor %}
                    </ul>
                                           
                </div>
            </div>
                <div class="responder">
                    <button type="submit" class="btn-responder" data-questao-id="{{ questao.id }}">Responder</button>
                </div>
            </div>
       
        </form>
   
        {% endfor %}
    </ul>


    
</div>